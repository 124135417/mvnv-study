<div>
</div>

<script>
  (async function () {

    //set up an anonymous user on firestore to track answers and usage;
    if (heuristics) {

      let screenSize = {
        availWidth: window.screen.availWidth,
        availHeight: window.screen.availHeight,
        width: window.screen.width,
        height: window.screen.height,
        colorDepth: window.screen.colorDepth,
        pixelDepth: window.screen.pixelDepth
      };

      workerID = makeid(6);
      db.collection('participants').doc(workerID).set({
        screenSize,
        startTime: JSON.stringify(Date.now())
      });

    }

    function getUrlVars() {
      var vars = {};
      var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
        vars[key] = value;
      });
      return vars;
    }

    // //see if url parameter was passed as to what type of vis to show for this link
    let visType = getUrlVars()["vis"] == 'nodeLink' ? "nodeLink" : 'adjMatrix';

    experimentr.hideNext();
    await loadTasks(visType);
    assignTasks();

    d3.select('.hit').style('display', 'inline');
    if (vis === 'nodeLink') {
      d3.selectAll('.development').remove();
      loadVis("vis");

    } else {
      // included script already auto loads the vis. 
    }

    resetPanel();
    // experimentr.startTimer('exploration');

  })()
</script>
