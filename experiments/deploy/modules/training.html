<section class="section">
  <div class="container">
    <h1 id="trainingTitle" class="title"></h1>
    <h2 class="subtitle trainingIntro">
      Watch the video below to learn about the network you will be interacting with.
    </h2>
    <br/>
  </div>

  <div class="card">
    <div class="card-image">
      <video id="trainingVideo" width="1152px" height="648px" controls preload="none">
        <source  src="" type="video/mp4" />
    </div>
  </div>


</section>

<a class="button is-pulled-right" id="start-trials" style="display:none">Start Practice Tasks</a>


<script src="js/carousel-js.js"></script>

<script>

  (async function () {
    updateStudyProvenance(' started training');

    experimentr.hideNext()

    if (vis === undefined) {
      console.log('before assign')
      await assignVisType();
    }

    let src = vis === 'nodeLink' ? 'training/nodeLink-Training_small.mp4' :
      'training/adjMatrix-Training_small.mp4'

      console.log('src is ', src)
    //add correct link to video: 
    console.log('setting source')
    d3.select('#trainingVideo').select("source").attr('src', src)

    debugger;

    d3.select('#trainingTitle').text(vis === 'nodeLink' ? 'Node-Link Diagram' : 'Adjacency Matrix')
    
    //Only show Start Trials button when the training video is done playing;
    document.getElementById('trainingVideo').onended = function() {
      d3.select('#start-trials').style('display','block')
    };

    d3.select('#start-trials').on('click', function () {
      updateStudyProvenance('finished training')
      experimentr.next()
    });

    // d3.select('#trainingVideo').node().play()
  })();
</script>